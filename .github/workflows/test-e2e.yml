name: Test / E2E Runner

on:
  pull_request:
    branches:
      - master

jobs:
  chrome_e2e:
    name: Chrome with defaults
    uses: ./.github/workflows/test-e2e-cypress.yml
    with:
      wpVersion: "WordPress/WordPress#6.2.2"
    concurrency:
      group: chrome-defaults
      cancel-in-progress: true

  chrome_e2e_go:
    name: Chrome and Go theme
    uses: ./.github/workflows/test-e2e-cypress.yml
    with:
      wpVersion: "WordPress/WordPress#6.2.2"
      theme: "https://downloads.wordpress.org/theme/go.zip"
    concurrency:
      group: chrome-go-theme
      cancel-in-progress: true

  chrome_e2e_php74:
    name: Chrome on PHP 7.4
    uses: ./.github/workflows/test-e2e-cypress.yml
    with:
      wpVersion: "WordPress/WordPress#6.2.2"
      phpVersion: "7.4"
    concurrency:
      group: chrome-php74
      cancel-in-progress: true

  chrome_e2e_wp_63_rc2:
    name: Chrome on WordPress 6.3 RC2
    uses: ./.github/workflows/test-e2e-cypress-6.3rc2.yml
    with:
      wpVersion: "https://wordpress.org/wordpress-6.3-RC2.zip"
    concurrency:
      group: chrome-wp_63_rc2
      cancel-in-progress: true
